<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Prune modules based on the regulator-target adjacencies and intramodular connectivities using dynamic filtering — pruneModules_UIK_adj_kIM • CroCoNet</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Prune modules based on the regulator-target adjacencies and intramodular connectivities using dynamic filtering — pruneModules_UIK_adj_kIM"><meta name="description" content="Prunes the initial modules by applying a dynamic stepwise pruning based on the regulator-target adjacencies and intramodular connectivities."><meta property="og:description" content="Prunes the initial modules by applying a dynamic stepwise pruning based on the regulator-target adjacencies and intramodular connectivities."><meta property="og:image" content="https://hellmann-lab.github.io/CroCoNet/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">CroCoNet</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/CroCoNet.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Hellmann-Lab/CroCoNet/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Prune modules based on the regulator-target adjacencies and intramodular connectivities using dynamic filtering</h1>
      <small class="dont-index">Source: <a href="https://github.com/Hellmann-Lab/CroCoNet/blob/main/R/pruneModules.R" class="external-link"><code>R/pruneModules.R</code></a></small>
      <div class="d-none name"><code>pruneModules_UIK_adj_kIM.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Prunes the initial modules by applying a dynamic stepwise pruning based on the regulator-target adjacencies and intramodular connectivities.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">pruneModules_UIK_adj_kIM</span><span class="op">(</span></span>
<span>  <span class="va">initial_modules</span>,</span>
<span>  <span class="va">consensus_network</span>,</span>
<span>  min_module_size <span class="op">=</span> <span class="fl">20L</span>,</span>
<span>  max_frac_modules_lost <span class="op">=</span> <span class="fl">0.02</span>,</span>
<span>  exponent <span class="op">=</span> <span class="fl">1L</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-initial-modules">initial_modules<a class="anchor" aria-label="anchor" href="#arg-initial-modules"></a></dt>
<dd><p>Data frame of initial modules, required columns:</p><dl><dt>regulator</dt>
<dd><p>Character, transcriptional regulator.</p></dd>

<dt>target</dt>
<dd><p>Character, member gene of the regulator's initial module.</p></dd>

<dt>weight</dt>
<dd><p>Numeric, consensus edge weight/adjacency, the weighted mean of clonewise edge weights.</p></dd>


</dl></dd>


<dt id="arg-consensus-network">consensus_network<a class="anchor" aria-label="anchor" href="#arg-consensus-network"></a></dt>
<dd><p><code>igraph</code> object, the consensus network across all species and clones.</p></dd>


<dt id="arg-min-module-size">min_module_size<a class="anchor" aria-label="anchor" href="#arg-min-module-size"></a></dt>
<dd><p>Integer, the lower treshold of module size. Modules with a smaller size than this threshold are removed after each pruning step (default: 20).</p></dd>


<dt id="arg-max-frac-modules-lost">max_frac_modules_lost<a class="anchor" aria-label="anchor" href="#arg-max-frac-modules-lost"></a></dt>
<dd><p>Numeric, the upper threshold of the fraction of removed modules (default: 0.02).</p></dd>


<dt id="arg-exponent">exponent<a class="anchor" aria-label="anchor" href="#arg-exponent"></a></dt>
<dd><p>Integer, the exponent the regulator-target adjacency and intramodular connectivity is raised to the power of during the cumulative sum curve calculation (default: 1, i.e. the regulator-target adjacencies and intramodular connectivities stay unchanged).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Data frame of the pruned modules with the following columns:</p><dl><dt>regulator</dt>
<dd><p>Character, transcriptional regulator.</p></dd>

<dt>module_size</dt>
<dd><p>Integer, the numer of genes assigned to a regulator.</p></dd>

<dt>target</dt>
<dd><p>Character, target gene of the transcriptional regulator (member of the regulator's pruned module).</p></dd>

<dt>weight</dt>
<dd><p>Numeric, consensus edge weight/adjacency, the weighted mean of clonewise edge weights.</p></dd>


</dl><p>Additional columns present in <code>initial_modules</code> will also be preserved in <code>pruned_modules</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>For each module, the initial module members are filtered in successive steps based on 2 metrics alternately: 1) the regulator-target edge weight/adjacency, which quantifies how strongly a target is connected to the regulator, and 2) the intramodular connectivity, which quantifies how strongly a target is connected to all other genes in the module. In each step, the cumulative sum curve based on one of these two characteristics is calculated per module, the knee point of the curve is identified using the Unit Invariant Knee (UIK) method (see <code>uik</code>), then only the targets that rank higher than the knee point are kept. The first step is based on the regulator-target adjacencies, the second step is based on the intramodular connectivities, the third step is again based on the regulator-target adjacencies and so on. The intramodular connectivity is recalculated in each relevant filtering step based on the then-current module assignment.</p>
<p>The modules containing less target genes than <code>min_module_size</code> are removed after each pruning step. The steps continue until the fraction of removed modules becomes higher than <code>max_frac_modules_lost</code>.</p>
<p>It is recommended to set <code>min_module_size</code> to at least 20, because the correlation-based preservation statistics in the next steps might be coupled with high uncertainty for modules smaller than this (see <code><a href="calculatePresStats.html">calculatePresStats</a></code>). If you would like to keep all modules for further analysis, please set <code>max_frac_modules_lost</code> to 0.</p>
<p>If <code>exponent</code> is set higher than 1, the regulator-target adjacencies and intramodular connectivities are raised to the equivalent power when calculating the cumulative sum curves and their knee points.</p>
<p>Pruning based on intramodular connectivities in addition to the regulator-target adjacencies ensures that the chosen targets co-vary not just with the main regulator but also with the rest of the module. These intramodular connections between targets can carry important information about combinatorial regulation, feedback loops and co-functionality.</p>
<p>While setting the parameter <code>min_module_size</code> prevents the modules from becoming too small, the exact number of target genes per regulator does not have to be pre-defined, in line with the notion that different regulators can have an effect on different numbers of genes. There are also no hard cutoffs applied to the regulator-target adjacencies or intramodular connectivities, but by using knee point detection the target genes are filtered in a data-driven way.</p>
<p>The modules are allowed to overlap, and in addition to having its own module, a regulator can be assigned to another regulator's module as well, in line with the notion that genes can be multifunctional and gene regulation can be combinatorial.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Christopoulos, D. (2016). Introducing Unit Invariant Knee (UIK) As an Objective Choice for Elbow Point in Multivariate Data Analysis Techniques. SSRN Electronic Journal. https://doi.org/10.2139/SSRN.3043076</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other methods to prune modules:
<code><a href="pruneModules_UIK_adj.html">pruneModules_UIK_adj</a>()</code>,
<code><a href="pruneModules_topN.html">pruneModules_topN</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">pruned_modules_UIK_adj_kIM</span> <span class="op">&lt;-</span> <span class="fu">pruneModules_UIK_adj_kIM</span><span class="op">(</span><span class="va">initial_modules</span>, <span class="va">consensus_network</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Step 1: filtering targets based on their adjacencies to the regulator</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Median module size after filtering: 92.5</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Step 2: filtering targets based on their intramodular connectivities</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Median module size after filtering: 33</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Anita Térmeg.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

